<h1>Sign in</h1>
<% if defined? session[:user] %>
	<p> You are already signed in as <%= session[:user]["username"] %>. </p>
	<%= link_to 'Sign Out', session[:user] = User.new %>
<% else %>
	<%= link_to 'Register', new_user_path %>
	<%= form_with scope: :user, url: signin_path, local: true do |form| %>
	  <% if defined? @user%>
	    <% if @user.errors.any? %>
	      <div id="error_explanation">
	        <h2>
	          <%= pluralize(@user.errors.count, "error") %> prevented sign in:
	        </h2>
	        <ul>
	          <% @user.errors.full_messages.each do |msg| %>
	            <li><%= msg %></li>
	          <% end %>
	        </ul>
	      </div>
	    <% end %>
	  <% end %>
	  <p>
	    <%= form.label :username %><br>
	    <%= form.text_field :username %>
	  </p>
	
	  <p>
	    <%= form.submit %>
	  </p>
	<% end %>
<% end %>
